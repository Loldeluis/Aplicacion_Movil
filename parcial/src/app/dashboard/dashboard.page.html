<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">dashboard</ion-title>
    </ion-toolbar>
  </ion-header>

  <div style="display: flex; justify-content: flex-end; margin: 16px;">
    <ion-button color="danger" (click)="logout()">
      <ion-icon name="log-out-outline" slot="start"></ion-icon>
      Cerrar sesión
    </ion-button>
  </div>

  <ion-content>
    <ion-header collapse="condense">
      <ion-toolbar>
        <ion-title size="large">Noticias Tesla</ion-title>
      </ion-toolbar>
    </ion-header>

    <div *ngIf="loading" style="text-align:center; margin-top:2em;">
      <ion-spinner name="crescent"></ion-spinner>
      <p>Cargando noticias...</p>
    </div>
    <div *ngIf="error" style="color:red; text-align:center;">{{ error }}</div>
    <ion-list *ngIf="!loading && !error">
      <ion-item *ngFor="let article of news">
        <ion-thumbnail slot="start" *ngIf="article.urlToImage">
          <img [src]="article.urlToImage" alt="imagen noticia" />
        </ion-thumbnail>
        <ion-label>
          <h2>{{ article.title }}</h2>
          <p>{{ article.description }}</p>
          <small>{{ article.publishedAt | date:'short' }}</small>
          <div>
            <a [href]="article.url" target="_blank">Ver más</a>
          </div>
        </ion-label>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-content>
